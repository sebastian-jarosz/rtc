{% extends 'base_template.html' %}
{% load static %}

{% block title %}
Profil - RunningGenerator
{% endblock title %}



{% block body_data %}
<!-- csrf token needed for post-->
{% csrf_token %}

<div class="page-hero d-flex align-items-center justify-content-center">
    <h1>Informacje o profilu</h1>
</div>

<div class="page-hero d-flex align-items-center justify-content-center">
    <h3>Nazwa użytkownika: <strong>{{user.username}}</strong></h3>
</div>

<div class="page-hero d-flex align-items-center justify-content-center">
    <a href="{% url 'socialaccount_connections' %}">Social Account Connections</a>
</div>

<!-- get_trainings_from_strava -->
<div class="page-hero d-flex align-items-center justify-content-center">
    <div class="mb-3">
        <button id="stravaApi" type="button" class="btn btn-secondary">Wczytaj treningi z konta STRAVA</button>
        <!-- Hidden spinner -->
        <div class="spinner-border text-secondary" id="stravaApiSpinner" style="display: none;"></div>
    </div>
</div>
<div class="page-hero d-flex align-items-center justify-content-center">
    <div class="alert alert-success alert-dismissible" id="stravaApiSuccess" style="display: none;">
        <button type="button" class="close">&times;</button>
        <strong>Sukces!</strong> Dane treningowe pobrano z serwisu STRAVA.
    </div>
</div>
<div class="page-hero d-flex align-items-center justify-content-center">
    <div class="alert alert-danger alert-dismissible" id="stravaApiError" style="display: none;">
        <button type="button" class="close">&times;</button>
        <strong>Error!</strong> Wystąpił problem podczas pobierania danych treningowych z serwisu STRAVA.
    </div>
</div>

<div class="page-hero d-flex align-items-center justify-content-center">
    {% if auth_exception %}
    <p>{{ auth_exception }}</p>
    {% endif %}
    {% if http_exception %}
    <p>{{ http_exception }}</p>
    {% endif %}
</div>

{% endblock body_data%}

{% block custom_js %}
<script type="text/javascript" src="{% static 'account/profile.js' %}"></script>
{% endblock custom_js %}
